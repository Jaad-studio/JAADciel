<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>JAAD | Agence Créative Web, 3D, IA & E-learning</title>
    <meta name="description" content="JAAD Studio : Agence créative spécialisée en Web Design immersif, Studio 3D, Intelligence Artificielle et solutions E-learning.">
    <link rel="icon" href="logo.png" type="image/png">
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "FAQPage",
      "mainEntity": [{
        "@type": "Question",
        "name": "Pourquoi intégrer la 3D sur mon site internet ?",
        "acceptedAnswer": { "@type": "Answer", "text": "La 3D offre une expérience immersive qui capte l'attention." }
      }]
    }
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest" defer></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #2563eb; --bg-main: #f9f9fb; --bg-card: #ffffff; }
        body { font-family: 'Outfit', sans-serif; background-color: var(--bg-main); overflow-x: hidden; }
        .noise::before { content: ""; position: fixed; inset: 0; background: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E"); opacity: 0.04; pointer-events: none; z-index: 9999; }
        #scroll-progress { position: fixed; top: 0; left: 0; width: 0%; height: 4px; background: var(--primary); z-index: 1001; }
        #preloader { position: fixed; inset: 0; z-index: 9999; display: flex; align-items: center; justify-content: center; background: linear-gradient(180deg, var(--primary) 0%, #60a5fa 100%); transition: transform 0.6s cubic-bezier(0.85, 0, 0.15, 1); }
        .preloader-active { transform: translateY(-100%); pointer-events: none; }
        .glass-nav { background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(20px); border: 1px solid rgba(0, 0, 0, 0.05); }
        .btn-premium { padding: 1.2rem 2.8rem; border-radius: 100px; font-weight: 900; text-transform: uppercase; font-size: 11px; letter-spacing: 0.15em; transition: all 0.4s ease; display: inline-flex; align-items: center; gap: 0.8rem; }
        .btn-primary { background: #0f172a; color: white; }
        #ai-chat-modal { position: fixed; bottom: 8rem; right: 2rem; width: 360px; max-width: calc(100vw - 4rem); background: white; border-radius: 28px; box-shadow: 0 30px 70px rgba(0,0,0,0.1); z-index: 7000; display: none; flex-direction: column; overflow: hidden; border: 1px solid rgba(0,0,0,0.05); }
        #ai-chat-modal.active { display: flex; }
        .chat-messages { height: 350px; overflow-y: auto; padding: 1.5rem; display: flex; flex-direction: column; gap: 1rem; background: #fafafa; }
        .msg { padding: 0.8rem 1.2rem; border-radius: 18px; font-size: 13px; line-height: 1.5; max-width: 85%; }
        .msg-user { align-self: flex-end; background: #2563eb; color: white; border-bottom-right-radius: 4px; }
        .msg-ai { align-self: flex-start; background: white; color: #0f172a; border-bottom-left-radius: 4px; border: 1px solid #eee; }
        .reveal-up { opacity: 0; transform: translateY(40px); transition: all 1s ease; }
        .reveal-up.active { opacity: 1; transform: translateY(0); }
    </style>
</head>
<body class="noise">
    <div id="scroll-progress"></div>
    <div id="preloader"><div class="text-white text-5xl font-black italic">JAAD.</div></div>

    <nav class="fixed top-0 w-full z-[1000] flex justify-center pt-8 px-4">
        <div class="glass-nav px-8 py-5 rounded-full flex items-center max-w-6xl w-full justify-between shadow-sm">
            <a href="#" class="text-2xl font-black text-blue-600">JAAD<span class="text-slate-900">.</span></a>
            <div class="hidden md:flex gap-10 text-[10px] font-extrabold uppercase tracking-widest text-slate-500">
                <a href="#services">Expertise</a>
                <a href="#contact" class="bg-[#0f172a] text-white px-8 py-3 rounded-full">Contact</a>
            </div>
        </div>
    </nav>

    <header class="relative h-[100dvh] flex items-center justify-center overflow-hidden">
        <div class="absolute inset-0 bg-blue-600">
            <iframe src='https://my.spline.design/baymaxinlove-EmcbFPi0lep1BCpAqecwkQ7T/' frameborder='0' width="100%" height="100%"></iframe>
        </div>
        <div class="relative z-20 text-center mt-[35dvh]">
            <a href="#contact" class="btn-premium btn-primary">Parlons-en <i data-lucide="zap"></i></a>
        </div>
    </header>

    <section id="contact" class="py-48 px-6 bg-[#0f172a] text-white text-center">
        <h2 class="text-4xl font-black mb-8">Un projet ?</h2>
        <p>Contactez-nous pour une étude personnalisée.</p>
    </section>

    <div class="fixed bottom-8 right-8 z-[1500]">
        <button onclick="toggleAiChat()" class="w-14 h-14 rounded-full bg-blue-600 text-white flex items-center justify-center shadow-xl"><i data-lucide="sparkles"></i></button>
    </div>

    <div id="ai-chat-modal">
        <div class="bg-blue-600 p-5 text-white flex justify-between items-center font-black">
            <span class="text-[11px] uppercase tracking-widest">JAAD AI</span>
            <button onclick="toggleAiChat()"><i data-lucide="x"></i></button>
        </div>
        <div id="chat-messages" class="chat-messages">
            <div class="msg msg-ai">Bonjour ! Je suis JAAD AI. Comment puis-je vous aider ?</div>
        </div>
        <div class="p-4 flex gap-2 border-t bg-white">
            <input type="text" id="chat-input" class="flex-1 outline-none text-xs" placeholder="Posez votre question..." onkeypress="if(event.key === 'Enter') sendChatMessage()">
            <button onclick="sendChatMessage()" class="bg-blue-600 text-white p-3 rounded-full"><i data-lucide="send" class="w-4 h-4"></i></button>
        </div>
    </div>

    <script>
        function toggleAiChat() { document.getElementById('ai-chat-modal').classList.toggle('active'); }

        async function fetchGeminiAPI(contents, systemInstruction = null) {
            try {
                const response = await fetch("/api/chat", {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ contents, systemInstruction })
                });
                const data = await response.json();
                if (!response.ok) throw new Error(data.error || "Erreur");
                return data.text;
            } catch (error) {
                return "Je rencontre une difficulté technique. Merci de nous contacter sur WhatsApp (+33 7 88 40 80 04) !";
            }
        }

        const systemPrompt = "Tu es JAAD AI, l'assistant de l'agence JAAD Studio. Expert en Web 3D et IA.";

        async function sendChatMessage() {
            const input = document.getElementById('chat-input');
            const box = document.getElementById('chat-messages');
            if(!input.value.trim()) return;

            const msg = input.value;
            box.innerHTML += `<div class="msg msg-user">${msg}</div>`;
            input.value = '';
            box.innerHTML += `<div class="msg msg-ai italic" id="loading">...</div>`;
            box.scrollTop = box.scrollHeight;

            const responseText = await fetchGeminiAPI([{ role: "user", parts: [{ text: msg }] }], systemPrompt);
            document.getElementById('loading').remove();
            box.innerHTML += `<div class="msg msg-ai">${responseText}</div>`;
            box.scrollTop = box.scrollHeight;
        }

        window.addEventListener('load', () => {
            setTimeout(() => { document.getElementById('preloader').classList.add('preloader-active'); }, 700);
            lucide.createIcons();
        });
    </script>
</body>
</html>
